{% extends 'layout.html' %}

{% block title %}Edit PR Visit{% endblock %}

{% block content %}
<div class="form-container">
    <h1>Edit PR Visit</h1>
    
    <form action="{{ url_for('pr.edit_visit', id=visit.id) }}" method="post">
        <div class="form-group">
            <label for="visit_start_time">Visit Start Time</label>
            <input type="datetime-local" id="visit_start_time" name="visit_start_time" value="{{ visit.visit_start_time.strftime('%Y-%m-%dT%H:%M') }}" required>
        </div>
        
        <div class="form-group">
            <label for="client_name">Client Name</label>
            <input type="text" id="client_name" name="client_name" value="{{ visit.client_name }}" required>
        </div>
        
        <div class="form-group">
            <label for="pr_name">PR Name</label>
            <input type="text" id="pr_name" name="pr_name" value="{{ visit.pr_name }}" required>
        </div>
        
        <div class="form-group">
            <label for="manager_response">Manager Response</label>
            <input type="text" id="manager_response" name="manager_response" value="{{ visit.manager_response }}">
        </div>
        
        <div class="form-group">
            <label for="visit_status">Visit Status</label>
            <select id="visit_status" name="visit_status" required>
                <option value="Scheduled" {% if visit.visit_status == 'Scheduled' %}selected{% endif %}>Scheduled</option>
                <option value="In Progress" {% if visit.visit_status == 'In Progress' %}selected{% endif %}>In Progress</option>
                <option value="Completed" {% if visit.visit_status == 'Completed' %}selected{% endif %}>Completed</option>
                <option value="Cancelled" {% if visit.visit_status == 'Cancelled' %}selected{% endif %}>Cancelled</option>
                <option value="Rescheduled" {% if visit.visit_status == 'Rescheduled' %}selected{% endif %}>Rescheduled</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="visit_update">Visit Update</label>
            <textarea id="visit_update" name="visit_update" rows="3">{{ visit.visit_update }}</textarea>
        </div>
        
        <div class="form-group">
            <label for="notes">Notes</label>
            <textarea id="notes" name="notes" rows="3">{{ visit.notes }}</textarea>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn-primary">Update</button>
            <a href="{{ url_for('pr.index') }}" class="btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}